(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{205:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"method-get-must-not-have-a-request-body"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#method-get-must-not-have-a-request-body","aria-hidden":"true"}},[t._v("#")]),t._v(" method GET must not have a request body")]),t._v(" "),s("h2",{attrs:{id:"描述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#描述","aria-hidden":"true"}},[t._v("#")]),t._v(" 描述")]),t._v(" "),s("p",[t._v("使用feign声明式调用接口，代码如下")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\n "),s("span",{attrs:{class:"token comment"}},[t._v("/**\n * 通过多条件查询用户\n *\n * @param params 参数\n * @return response\n */")]),t._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"/users"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nResponse"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("PageResponse"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("LinkedHashMap"),s("span",{attrs:{class:"token generics function"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("String"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Object"),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("list")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" Map"),s("span",{attrs:{class:"token generics function"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("String"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" String"),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" params"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"原因"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原因","aria-hidden":"true"}},[t._v("#")]),t._v(" 原因")]),t._v(" "),s("ul",[s("li",[t._v("feign在调用请求的时候，如果参数上没有指明参数是请求体参数还是请求行参数，默认认为是请求体")]),t._v(" "),s("li",[t._v("项目中feign底层又使用的是okHttp，okHttp默认get方式请求不能有requestBody。源码如下")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('public Request.Builder method(String method, @Nullable RequestBody body) {\n    if (method == null) {\n        throw new NullPointerException("method == null");\n    } else if (method.length() == 0) {\n        throw new IllegalArgumentException("method.length() == 0");\n    } else if (body != null && !HttpMethod.permitsRequestBody(method)) {\n        throw new IllegalArgumentException("method " + method + " must not have a request body.");\n    } else if (body == null && HttpMethod.requiresRequestBody(method)) {\n        throw new IllegalArgumentException("method " + method + " must have a request body.");\n    } else {\n        this.method = method;\n        this.body = body;\n        return this;\n    }\n}\n\n')])])]),s("h2",{attrs:{id:"解决办法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决办法","aria-hidden":"true"}},[t._v("#")]),t._v(" 解决办法")]),t._v(" "),s("p",[t._v("参数上添加RequestParam注解")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\n "),s("span",{attrs:{class:"token comment"}},[t._v("/**\n * 通过多条件查询用户\n *\n * @param params 参数\n * @return response\n */")]),t._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"/users"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nResponse"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("PageResponse"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("LinkedHashMap"),s("span",{attrs:{class:"token generics function"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("String"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Object"),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("list")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestParam")]),t._v("  Map"),s("span",{attrs:{class:"token generics function"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("String"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" String"),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" params"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])])])}],!1,null,null,null);e.options.__file="feign-method-get-must-not-have-a-request-body.md";a.default=e.exports}}]);